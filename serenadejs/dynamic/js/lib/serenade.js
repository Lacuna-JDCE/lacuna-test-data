/**
 * Serenade.js JavaScript Framework v0.4.1
 * Revision: ae7d321b18
 * http://github.com/elabs/serenade.js
 *
 * Copyright 2011, Jonas Nicklas, Elabs AB
 * Released under the MIT License
 */
(function(e){___jdce_logger("/js/lib/serenade.js", 0);var t=function(){___jdce_logger("/js/lib/serenade.js", 1);function t(){___jdce_logger("/js/lib/serenade.js", 2);this.yy={}}var e={trace:function(){___jdce_logger("/js/lib/serenade.js", 3);},yy:{},symbols_:{error:2,Root:3,ChildList:4,ElementIdentifier:5,AnyIdentifier:6,"#":7,".":8,Element:9,"[":10,"]":11,PropertyList:12,WHITESPACE:13,Text:14,INDENT:15,OUTDENT:16,TextList:17,Bound:18,STRING_LITERAL:19,Child:20,TERMINATOR:21,IfInstruction:22,Instruction:23,Helper:24,Property:25,"=":26,"!":27,":":28,"-":29,VIEW:30,COLLECTION:31,UNLESS:32,IN:33,IDENTIFIER:34,IF:35,ElseInstruction:36,ELSE:37,"@":38,$accept:0,$end:1},terminals_:{2:"error",7:"#",8:".",10:"[",11:"]",13:"WHITESPACE",15:"INDENT",16:"OUTDENT",19:"STRING_LITERAL",21:"TERMINATOR",26:"=",27:"!",28:":",29:"-",30:"VIEW",31:"COLLECTION",32:"UNLESS",33:"IN",34:"IDENTIFIER",35:"IF",37:"ELSE",38:"@"},productions_:[0,[3,0],[3,1],[5,1],[5,3],[5,2],[5,2],[5,3],[9,1],[9,3],[9,4],[9,3],[9,4],[17,1],[17,3],[14,1],[14,1],[4,1],[4,3],[20,1],[20,1],[20,1],[20,1],[20,1],[12,1],[12,3],[25,3],[25,3],[25,4],[25,4],[25,3],[25,3],[23,5],[23,5],[23,5],[23,5],[23,4],[24,3],[24,3],[24,4],[22,5],[22,4],[22,2],[36,6],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[18,2],[18,1]],performAction:function(t,n,r,i,s,o,u){___jdce_logger("/js/lib/serenade.js", 4);var a=o.length-1;switch(s){case 1:this.$=null;break;case 2:return this.$;case 3:this.$={name:o[a],classes:[]};break;case 4:this.$={name:o[a-2],id:o[a],classes:[]};break;case 5:this.$={name:"div",id:o[a],classes:[]};break;case 6:this.$={name:"div",classes:[o[a]]};break;case 7:this.$=function(){___jdce_logger("/js/lib/serenade.js", 5);return o[a-2].classes.push(o[a]),o[a-2]}();break;case 8:this.$={name:o[a].name,id:o[a].id,classes:o[a].classes,properties:[],children:[],type:"element"};break;case 9:this.$=o[a-2];break;case 10:this.$=function(){___jdce_logger("/js/lib/serenade.js", 6);return o[a-3].properties=o[a-1],o[a-3]}();break;case 11:this.$=function(){___jdce_logger("/js/lib/serenade.js", 7);return o[a-2].children=o[a-2].children.concat(o[a]),o[a-2]}();break;case 12:this.$=function(){___jdce_logger("/js/lib/serenade.js", 8);return o[a-3].children=o[a-3].children.concat(o[a-1]),o[a-3]}();break;case 13:this.$=[o[a]];break;case 14:this.$=o[a-2].concat(o[a]);break;case 15:this.$={type:"text",value:o[a],bound:!0};break;case 16:this.$={type:"text",value:o[a],bound:!1};break;case 17:this.$=[].concat(o[a]);break;case 18:this.$=o[a-2].concat(o[a]);break;case 19:this.$=o[a];break;case 20:this.$=o[a];break;case 21:this.$=o[a];break;case 22:this.$=o[a];break;case 23:this.$=o[a];break;case 24:this.$=[o[a]];break;case 25:this.$=o[a-2].concat(o[a]);break;case 26:this.$={name:o[a-2],value:o[a],bound:!0,scope:"attribute"};break;case 27:this.$={name:o[a-2],value:o[a],bound:!0,scope:"attribute"};break;case 28:this.$={name:o[a-3],value:o[a-1],bound:!0,scope:"attribute",preventDefault:!0};break;case 29:this.$={name:o[a-3],value:o[a-1],bound:!0,scope:"attribute",preventDefault:!0};break;case 30:this.$={name:o[a-2],value:o[a],bound:!1,scope:"attribute"};break;case 31:this.$=function(){___jdce_logger("/js/lib/serenade.js", 9);return o[a].scope=o[a-2],o[a]}();break;case 32:this.$={children:[],type:"view",argument:o[a]};break;case 33:this.$={children:[],type:"collection",argument:o[a]};break;case 34:this.$={children:[],type:"unless",argument:o[a]};break;case 35:this.$={children:[],type:"in",argument:o[a]};break;case 36:this.$=function(){___jdce_logger("/js/lib/serenade.js", 10);return o[a-3].children=o[a-1],o[a-3]}();break;case 37:this.$={command:o[a],arguments:[],children:[],type:"helper"};break;case 38:this.$=function(){___jdce_logger("/js/lib/serenade.js", 11);}();break;case 39:this.$=function(){___jdce_logger("/js/lib/serenade.js", 12);}();break;case 40:this.$={children:[],type:"if",argument:o[a]};break;case 41:this.$=function(){___jdce_logger("/js/lib/serenade.js", 13);return o[a-3].children=o[a-1],o[a-3]}();break;case 42:this.$=function(){___jdce_logger("/js/lib/serenade.js", 14);}();break;case 43:this.$={arguments:[],children:o[a-1],type:"else"};break;case 44:this.$=o[a];break;case 45:this.$=o[a];break;case 46:this.$=o[a];break;case 47:this.$=o[a];break;case 48:this.$=o[a];break;case 49:this.$=o[a];break;case 50:this.$=o[a];break;case 51:this.$=function(){___jdce_logger("/js/lib/serenade.js", 15);}()}},table:[{1:[2,1],3:1,4:2,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{1:[3]},{1:[2,2],21:[1,24]},{1:[2,17],16:[2,17],21:[2,17]},{1:[2,19],10:[1,25],13:[1,26],15:[1,27],16:[2,19],21:[2,19]},{1:[2,20],15:[1,28],16:[2,20],21:[2,20],29:[1,30],36:29},{1:[2,21],15:[1,31],16:[2,21],21:[2,21]},{1:[2,22],13:[1,32],15:[1,33],16:[2,22],21:[2,22]},{1:[2,23],13:[1,34],16:[2,23],21:[2,23]},{1:[2,8],8:[1,35],10:[2,8],13:[2,8],15:[2,8],16:[2,8],21:[2,8]},{13:[1,36]},{1:[2,13],13:[2,13],16:[2,13],21:[2,13]},{1:[2,3],7:[1,37],8:[2,3],10:[2,3],13:[2,3],15:[2,3],16:[2,3],21:[2,3]},{6:38,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{6:39,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{1:[2,15],10:[2,15],13:[2,15],15:[2,15],16:[2,15],21:[2,15]},{1:[2,16],10:[2,16],13:[2,16],15:[2,16],16:[2,16],21:[2,16]},{1:[2,44],7:[2,44],8:[2,44],10:[2,44],11:[2,44],13:[2,44],15:[2,44],16:[2,44],21:[2,44],26:[2,44],27:[2,44],28:[2,44],29:[2,44]},{1:[2,45],7:[2,45],8:[2,45],10:[2,45],11:[2,45],13:[2,45],15:[2,45],16:[2,45],21:[2,45],26:[2,45],27:[2,45],28:[2,45],29:[2,45]},{1:[2,46],7:[2,46],8:[2,46],10:[2,46],11:[2,46],13:[2,46],15:[2,46],16:[2,46],21:[2,46],26:[2,46],27:[2,46],28:[2,46],29:[2,46]},{1:[2,47],7:[2,47],8:[2,47],10:[2,47],11:[2,47],13:[2,47],15:[2,47],16:[2,47],21:[2,47],26:[2,47],27:[2,47],28:[2,47],29:[2,47]},{1:[2,48],7:[2,48],8:[2,48],10:[2,48],11:[2,48],13:[2,48],15:[2,48],16:[2,48],21:[2,48],26:[2,48],27:[2,48],28:[2,48],29:[2,48]},{1:[2,49],7:[2,49],8:[2,49],10:[2,49],11:[2,49],13:[2,49],15:[2,49],16:[2,49],21:[2,49],26:[2,49],27:[2,49],28:[2,49],29:[2,49]},{1:[2,51],6:40,10:[2,51],11:[2,51],13:[2,51],15:[2,51],16:[2,51],21:[2,51],27:[2,51],29:[2,51],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:41,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{6:45,11:[1,42],12:43,25:44,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{14:46,18:15,19:[1,16],38:[1,23]},{4:47,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{4:48,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{1:[2,42],15:[2,42],16:[2,42],21:[2,42],29:[2,42]},{13:[1,49]},{4:50,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{14:51,18:15,19:[1,16],38:[1,23]},{4:52,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{14:53,18:15,19:[1,16],38:[1,23]},{6:54,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{30:[1,56],31:[1,57],32:[1,58],33:[1,59],34:[1,60],35:[1,55]},{6:61,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{1:[2,5],8:[2,5],10:[2,5],13:[2,5],15:[2,5],16:[2,5],21:[2,5]},{1:[2,6],8:[2,6],10:[2,6],13:[2,6],15:[2,6],16:[2,6],21:[2,6]},{1:[2,50],10:[2,50],11:[2,50],13:[2,50],15:[2,50],16:[2,50],21:[2,50],27:[2,50],29:[2,50]},{1:[2,18],16:[2,18],21:[2,18]},{1:[2,9],10:[2,9],13:[2,9],15:[2,9],16:[2,9],21:[2,9]},{11:[1,62],13:[1,63]},{11:[2,24],13:[2,24]},{26:[1,64],28:[1,65]},{1:[2,11],10:[2,11],13:[2,11],15:[2,11],16:[2,11],21:[2,11]},{16:[1,66],21:[1,24]},{16:[1,67],21:[1,24]},{37:[1,68]},{16:[1,69],21:[1,24]},{1:[2,38],13:[2,38],15:[2,38],16:[2,38],21:[2,38]},{16:[1,70],21:[1,24]},{1:[2,14],13:[2,14],16:[2,14],21:[2,14]},{1:[2,7],8:[2,7],10:[2,7],13:[2,7],15:[2,7],16:[2,7],21:[2,7]},{13:[1,71]},{13:[1,72]},{13:[1,73]},{13:[1,74]},{13:[1,75]},{1:[2,37],13:[2,37],15:[2,37],16:[2,37],21:[2,37]},{1:[2,4],8:[2,4],10:[2,4],13:[2,4],15:[2,4],16:[2,4],21:[2,4]},{1:[2,10],10:[2,10],13:[2,10],15:[2,10],16:[2,10],21:[2,10]},{6:45,25:76,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{6:77,18:78,19:[1,79],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{6:45,25:80,30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19]},{1:[2,12],10:[2,12],13:[2,12],15:[2,12],16:[2,12],21:[2,12]},{1:[2,41],15:[2,41],16:[2,41],21:[2,41],29:[2,41]},{15:[1,81]},{1:[2,36],15:[2,36],16:[2,36],21:[2,36]},{1:[2,39],13:[2,39],15:[2,39],16:[2,39],21:[2,39]},{18:82,38:[1,23]},{19:[1,83]},{18:84,38:[1,23]},{18:85,38:[1,23]},{18:86,38:[1,23]},{11:[2,25],13:[2,25]},{11:[2,26],13:[2,26],27:[1,87]},{11:[2,27],13:[2,27],27:[1,88]},{11:[2,30],13:[2,30]},{11:[2,31],13:[2,31]},{4:89,5:9,6:12,7:[1,13],8:[1,14],9:4,14:11,17:8,18:15,19:[1,16],20:3,22:5,23:6,24:7,29:[1,10],30:[1,17],31:[1,18],32:[1,20],33:[1,21],34:[1,22],35:[1,19],38:[1,23]},{1:[2,40],15:[2,40],16:[2,40],21:[2,40],29:[2,40]},{1:[2,32],15:[2,32],16:[2,32],21:[2,32]},{1:[2,33],15:[2,33],16:[2,33],21:[2,33]},{1:[2,34],15:[2,34],16:[2,34],21:[2,34]},{1:[2,35],15:[2,35],16:[2,35],21:[2,35]},{11:[2,28],13:[2,28]},{11:[2,29],13:[2,29]},{16:[1,90],21:[1,24]},{1:[2,43],15:[2,43],16:[2,43],21:[2,43],29:[2,43]}],defaultActions:{},parseError:function(){___jdce_logger("/js/lib/serenade.js", 16);},parse:function(t){___jdce_logger("/js/lib/serenade.js", 17);function v(){___jdce_logger("/js/lib/serenade.js", 18);}function m(){___jdce_logger("/js/lib/serenade.js", 19);var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var g,y,b,w,E,S,x={},T,N,C,k;for(;;){b=r[r.length-1];if(this.defaultActions[b])w=this.defaultActions[b];else{if(g===null||typeof g=="undefined")g=m();w=o[b]&&o[b][g]}if(typeof w=="undefined"||!w.length||!w[0])var L="";if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:r.push(g),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(w[1]),g=null,y?(g=y,y=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:N=this.productions_[w[1]][1],x.$=i[i.length-N],x._$={first_line:s[s.length-(N||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(N||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(N||1)].range[0],s[s.length-1].range[1]]),S=this.performAction.call(x,u,f,a,this.yy,w[1],i,s);if(typeof S!="undefined")return S;N&&(r=r.slice(0,-1*N*2),i=i.slice(0,-1*N),s=s.slice(0,-1*N)),r.push(this.productions_[w[1]][0]),i.push(x.$),s.push(x._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}};return t.prototype=e,e.Parser=t,new t}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=t,exports.Parser=t.Parser,exports.parse=function(){___jdce_logger("/js/lib/serenade.js", 20);},exports.main=function(){___jdce_logger("/js/lib/serenade.js", 21);},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args));var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V={}.hasOwnProperty,$=[].slice,J=function(e,t){___jdce_logger("/js/lib/serenade.js", 22);function r(){___jdce_logger("/js/lib/serenade.js", 23);this.constructor=e}for(var n in t)V.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},K=[].indexOf||function(){___jdce_logger("/js/lib/serenade.js", 24);};W={async:!1},k=Object.defineProperty,A=function(e,t){___jdce_logger("/js/lib/serenade.js", 25);return k(e,t,{get:function(){___jdce_logger("/js/lib/serenade.js", 26);var e;return this.hasOwnProperty("_"+t)||(e=t in Object.getPrototypeOf(this)?Object.create(Object.getPrototypeOf(this)[t]):{},k(this,"_"+t,{configurable:!0,writable:!0,value:e})),this["_"+t]}})},M=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 27);var r,i;n==null&&(n=!0);for(r in t){if(!V.call(t,r))continue;i=t[r],n?e[r]=i:k(e,r,{value:i,configurable:!0})}return e},T=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 28);if(e[t]!==n)return e[t]=n},F=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 29);return n==null&&(n=!0),M(M({},e,n),t,n)},_=function(){___jdce_logger("/js/lib/serenade.js", 30);},B=function(){___jdce_logger("/js/lib/serenade.js", 31);},q=function(){___jdce_logger("/js/lib/serenade.js", 32);},z=function(){___jdce_logger("/js/lib/serenade.js", 33);},N=function(){___jdce_logger("/js/lib/serenade.js", 34);},U=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 35);if(!e[t]||e[t].indexOf(n)===-1)return e.hasOwnProperty(t)?e[t].push(n):e[t]?k(e,t,{value:[n].concat(e[t])}):k(e,t,{value:[n]})},R=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 36);var r;if(e[t]&&(r=e[t].indexOf(n))!==-1)return e.hasOwnProperty(t)||k(e,t,{value:[].concat(e[t])}),e[t].splice(r,1)},f=function(){___jdce_logger("/js/lib/serenade.js", 37);function e(e,t,n){___jdce_logger("/js/lib/serenade.js", 38);this.object=e,this.name=t,this.options=n}return k(e.prototype,"async",{get:function(){___jdce_logger("/js/lib/serenade.js", 39);return"async"in this.options?this.options.async:W.async}}),e.prototype.trigger=function(){___jdce_logger("/js/lib/serenade.js", 40);var e,t,n=this;return e=1<=arguments.length?$.call(arguments,0):[],this.queue.push(e),this.async?(t=this.queue).timeout||(t.timeout=setTimeout(function(){___jdce_logger("/js/lib/serenade.js", 41);},0)):this.resolve()},e.prototype.bind=function(e){___jdce_logger("/js/lib/serenade.js", 42);return this.options.bind&&this.options.bind.call(this.object,e),U(this.object._s,"listeners_"+this.name,e)},e.prototype.one=function(){___jdce_logger("/js/lib/serenade.js", 43);},e.prototype.unbind=function(e){___jdce_logger("/js/lib/serenade.js", 44);R(this.object._s,"listeners_"+this.name,e);if(this.options.unbind)return this.options.unbind.call(this.object,e)},e.prototype.resolve=function(){___jdce_logger("/js/lib/serenade.js", 45);var e,t,n,r,i,s=this;t=function(e){___jdce_logger("/js/lib/serenade.js", 46);if(s.listeners)return s.listeners.forEach(function(){___jdce_logger("/js/lib/serenade.js", 47);})};if(this.options.optimize)t(this.options.optimize(this.queue));else{i=this.queue;for(n=0,r=i.length;n<r;n++)e=i[n],t(e)}return this.queue=[]},k(e.prototype,"listeners",{get:function(){___jdce_logger("/js/lib/serenade.js", 48);return this.object._s["listeners_"+this.name]}}),k(e.prototype,"queue",{get:function(){___jdce_logger("/js/lib/serenade.js", 49);return this.object._s.hasOwnProperty("queue_"+this.name)||(this.queue=[]),this.object._s["queue_"+this.name]},set:function(e){___jdce_logger("/js/lib/serenade.js", 50);return this.object._s["queue_"+this.name]=e}}),e}(),L=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 51);return n==null&&(n={}),"_s"in e||A(e,"_s"),k(e,t,{configurable:!0,get:function(){___jdce_logger("/js/lib/serenade.js", 52);return new f(this,t,n)}})},i={_identityMap:{},get:function(){___jdce_logger("/js/lib/serenade.js", 53);},set:function(){___jdce_logger("/js/lib/serenade.js", 54);},unset:function(){___jdce_logger("/js/lib/serenade.js", 55);}},j=function(e){___jdce_logger("/js/lib/serenade.js", 56);return(""+e).match(/^\d+$/)},s=function(){___jdce_logger("/js/lib/serenade.js", 57);function i(e){___jdce_logger("/js/lib/serenade.js", 58);var t,n,r,i;e==null&&(e=[]);for(t=r=0,i=e.length;r<i;t=++r)n=e[t],this[t]=n;this.length=(e!=null?e.length:void 0)||0}var e,t,n,r;L(i.prototype,"change_set"),L(i.prototype,"change_add"),L(i.prototype,"change_update"),L(i.prototype,"change_insert"),L(i.prototype,"change_delete"),L(i.prototype,"change"),i.prototype.get=function(){___jdce_logger("/js/lib/serenade.js", 59);},i.prototype.set=function(){___jdce_logger("/js/lib/serenade.js", 60);},i.prototype.update=function(e){___jdce_logger("/js/lib/serenade.js", 61);var t,n,r,i,s,o;n=this.clone();for(t in this)i=this[t],j(t)&&delete this[t];for(t=s=0,o=e.length;s<o;t=++s)r=e[t],this[t]=r;return this.length=(e!=null?e.length:void 0)||0,this.change_update.trigger(n,this),this.change.trigger(this),e},i.prototype.sortBy=function(){___jdce_logger("/js/lib/serenade.js", 62);},i.prototype.includes=function(){___jdce_logger("/js/lib/serenade.js", 63);},i.prototype.find=function(){___jdce_logger("/js/lib/serenade.js", 64);},i.prototype.insertAt=function(){___jdce_logger("/js/lib/serenade.js", 65);},i.prototype.deleteAt=function(){___jdce_logger("/js/lib/serenade.js", 66);},i.prototype["delete"]=function(){___jdce_logger("/js/lib/serenade.js", 67);},k(i.prototype,"first",{get:function(){___jdce_logger("/js/lib/serenade.js", 68);}}),k(i.prototype,"last",{get:function(){___jdce_logger("/js/lib/serenade.js", 69);}}),i.prototype.toArray=function(){___jdce_logger("/js/lib/serenade.js", 70);var e,t,n;e=[];for(t in this)n=this[t],j(t)&&(e[t]=n);return e},i.prototype.clone=function(){___jdce_logger("/js/lib/serenade.js", 71);return new i(this.toArray())},i.prototype.push=function(){___jdce_logger("/js/lib/serenade.js", 72);},i.prototype.pop=function(){___jdce_logger("/js/lib/serenade.js", 73);},i.prototype.unshift=function(){___jdce_logger("/js/lib/serenade.js", 74);},i.prototype.shift=function(){___jdce_logger("/js/lib/serenade.js", 75);},i.prototype.splice=function(){___jdce_logger("/js/lib/serenade.js", 76);},i.prototype.sort=function(){___jdce_logger("/js/lib/serenade.js", 77);},i.prototype.reverse=function(){___jdce_logger("/js/lib/serenade.js", 78);},r=["forEach","indexOf","lastIndexOf","join","every","some","reduce","reduceRight"];for(t=0,n=r.length;t<n;t++)e=r[t],i.prototype[e]=Array.prototype[e];return i.prototype.map=function(){___jdce_logger("/js/lib/serenade.js", 79);},i.prototype.filter=function(){___jdce_logger("/js/lib/serenade.js", 80);},i.prototype.slice=function(){___jdce_logger("/js/lib/serenade.js", 81);},i.prototype.concat=function(){___jdce_logger("/js/lib/serenade.js", 82);},i.prototype.toString=function(){___jdce_logger("/js/lib/serenade.js", 83);},i.prototype.toLocaleString=function(){___jdce_logger("/js/lib/serenade.js", 84);},i.prototype.toJSON=function(){___jdce_logger("/js/lib/serenade.js", 85);},i}(),n=function(e){___jdce_logger("/js/lib/serenade.js", 86);function t(e,n,r){___jdce_logger("/js/lib/serenade.js", 87);var i=this;this.owner=e,this.options=n,this._convert.apply(this,$.call(r).concat([function(){___jdce_logger("/js/lib/serenade.js", 88);var e;return e=1<=arguments.length?$.call(arguments,0):[],t.__super__.constructor.call(i,e)}]))}return J(t,e),t.prototype.set=function(){___jdce_logger("/js/lib/serenade.js", 89);},t.prototype.push=function(){___jdce_logger("/js/lib/serenade.js", 90);},t.prototype.update=function(){___jdce_logger("/js/lib/serenade.js", 91);},t.prototype.splice=function(){___jdce_logger("/js/lib/serenade.js", 92);},t.prototype.insertAt=function(){___jdce_logger("/js/lib/serenade.js", 93);},t.prototype._convert=function(){___jdce_logger("/js/lib/serenade.js", 94);var e,t,n,r,i,s,o;n=2<=arguments.length?$.call(arguments,0,i=arguments.length-1):(i=0,[]),e=arguments[i++],n=function(){___jdce_logger("/js/lib/serenade.js", 95);var e,r,i;i=[];for(e=0,r=n.length;e<r;e++)t=n[e],(t!=null?t.constructor:void 0)===Object&&this.options.as?i.push(t=new(this.options.as())(t)):i.push(t);return i}.call(this),r=e.apply(null,n);for(s=0,o=n.length;s<o;s++)t=n[s],this.options.inverseOf&&t[this.options.inverseOf]!==this.owner&&(t[this.options.inverseOf]=this.owner);return r},t}(s),P={},X=function(e,t){___jdce_logger("/js/lib/serenade.js", 96);var n,r,i,s,o,u,a,f;f=[];for(u=0,a=t.length;u<a;u++)r=t[u],P.hasOwnProperty(r)?f.push(function(){___jdce_logger("/js/lib/serenade.js", 97);}()):f.push(void 0);return f},b=function(){___jdce_logger("/js/lib/serenade.js", 98);function e(e,t){___jdce_logger("/js/lib/serenade.js", 99);var n,r,i;this.name=e,M(this,t),this.dependencies=[],this.localDependencies=[],this.globalDependencies=[];if(this.dependsOn){i=[].concat(this.dependsOn);for(n=0,r=i.length;n<r;n++)e=i[n],this.addDependency(e)}}return k(e.prototype,"eventOptions",{get:function(){___jdce_logger("/js/lib/serenade.js", 100);var e;return e=this.name,{async:this.async!=null?this.async:W.async,bind:function(){___jdce_logger("/js/lib/serenade.js", 101);return this[e]},optimize:function(e){___jdce_logger("/js/lib/serenade.js", 102);return e[e.length-1]}}}}),e.prototype.addDependency=function(e){___jdce_logger("/js/lib/serenade.js", 103);var t,n,r,i;if(this.dependencies.indexOf(e)===-1){this.dependencies.push(e),e.match(/\./)?(n="singular",r=e.split("."),e=r[0],t=r[1]):e.match(/:/)&&(n="collection",i=e.split(":"),e=i[0],t=i[1]),this.localDependencies.push(e),this.localDependencies.indexOf(e)===-1&&this.localDependencies.push(e);if(n)return this.globalDependencies.push({subname:t,name:e,type:n})}},e}(),y=function(){___jdce_logger("/js/lib/serenade.js", 104);function e(e,t){___jdce_logger("/js/lib/serenade.js", 105);this.definition=e,this.object=t,this.name=this.definition.name,this.valueName="val_"+this.name,this.event=new f(this.object,this.name+"_change",this.definition.eventOptions)}return e.prototype.set=function(e){___jdce_logger("/js/lib/serenade.js", 106);var t;return typeof e=="function"?this.definition.get=e:(this.definition.changed&&(t=this.get()),this.definition.set?this.definition.set.call(this.object,e):k(this.object._s,this.valueName,{value:e,configurable:!0}),this.trigger())},e.prototype.get=function(){___jdce_logger("/js/lib/serenade.js", 107);var e,t,n=this;return this.registerGlobal(),this.definition.get&&!(this.definition.cache&&this.valueName in this.object._s)?(e=function(){___jdce_logger("/js/lib/serenade.js", 108);},"dependsOn"in this.definition||this.object._s.property_access.bind(e),t=this.definition.get.call(this.object),this.definition.cache&&(this.object._s[this.valueName]=t),"dependsOn"in this.definition||this.object._s.property_access.unbind(e)):t=this.object._s[this.valueName],this.object._s.property_access.trigger(this.name),t},e.prototype.format=function(){___jdce_logger("/js/lib/serenade.js", 109);},e.prototype.registerGlobal=function(){___jdce_logger("/js/lib/serenade.js", 110);var e,t,n,r,i,s,o,u;if(!this.object._s["glb_"+this.name]){this.object._s["glb_"+this.name]=!0,s=this.definition.globalDependencies,u=[];for(r=0,i=s.length;r<i;r++)o=s[r],e=o.name,n=o.type,t=o.subname,P[t]||(P[t]=[]),u.push(P[t].push({object:this.object,subname:t,name:e,type:n,dependency:this.name}));return u}},e.prototype.trigger=function(){___jdce_logger("/js/lib/serenade.js", 111);var e,t,n,r,i,s,o,u;this.clearCache();if(this.hasChanged()){r=this.get(),e={},o=this.dependents;for(i=0,s=o.length;i<s;i++)t=o[i],t!==this.name&&(e[t]=this.object[t]);this.event.trigger(r);for(t in e){if(!V.call(e,t))continue;r=e[t],n=this.object[t+"_property"],n.clearCache(),n.hasChanged()&&n.event.trigger(r)}return e[this.name]=r,(u=this.object.changed)!=null&&typeof u.trigger=="function"&&u.trigger(e),X(this.object,Object.keys(e))}},e.prototype.bind=function(e){___jdce_logger("/js/lib/serenade.js", 112);return this.event.bind(e)},e.prototype.unbind=function(){___jdce_logger("/js/lib/serenade.js", 113);},e.prototype.one=function(){___jdce_logger("/js/lib/serenade.js", 114);},k(e.prototype,"dependents",{get:function(){___jdce_logger("/js/lib/serenade.js", 115);var e,t,n=this;return e=[],t=function(r){___jdce_logger("/js/lib/serenade.js", 116);var i,s,o,u,a,f;u=n.object._s.properties,f=[];for(s=0,o=u.length;s<o;s++)i=u[s],(a=i.name,K.call(e,a)<0)&&K.call(i.localDependencies,r)>=0?(e.push(i.name),f.push(t(i.name))):f.push(void 0);return f},t(this.name),e}}),k(e.prototype,"listeners",{get:function(){___jdce_logger("/js/lib/serenade.js", 117);}}),e.prototype.clearCache=function(){___jdce_logger("/js/lib/serenade.js", 118);if(this.definition.cache&&this.definition.get)return delete this.object._s[this.valueName]},e.prototype.hasChanged=function(){___jdce_logger("/js/lib/serenade.js", 119);var e,t,n;return this.definition.changed===!1?!1:this.definition.changed?(n=this.get(),t="old_val_"+this.name,e=this.object._s.hasOwnProperty(t)?this.definition.changed.call(this.object,this.object._s[t],n):!0,this.object._s[t]=n,e):!0},e}(),O=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 120);var r;n==null&&(n={}),r=new b(t,n),"_s"in e||A(e,"_s"),U(e._s,"properties",r),L(e._s,"property_access"),k(e,t,{get:function(){___jdce_logger("/js/lib/serenade.js", 121);return this[t+"_property"].get()},set:function(e){___jdce_logger("/js/lib/serenade.js", 122);return this[t+"_property"].set(e)},configurable:!0,enumerable:"enumerable"in n?n.enumerable:!0}),k(e,t+"_property",{get:function(){___jdce_logger("/js/lib/serenade.js", 123);return new y(r,this)},configurable:!0}),typeof n.serialize=="string"&&O(e,n.serialize,{get:function(){___jdce_logger("/js/lib/serenade.js", 124);},set:function(){___jdce_logger("/js/lib/serenade.js", 125);},configurable:!0});if("value"in n)return e[t]=n.value},H=1,v=function(){___jdce_logger("/js/lib/serenade.js", 126);function e(e){___jdce_logger("/js/lib/serenade.js", 127);var t;if(this.constructor.identityMap&&(e!=null?e.id:void 0)){t=i.get(this.constructor,e.id);if(t)return t.set(e),t;i.set(this.constructor,e.id,this)}this.set(e)}return e.identityMap=!0,e.find=function(){___jdce_logger("/js/lib/serenade.js", 128);},e.extend=function(){___jdce_logger("/js/lib/serenade.js", 129);},e.property=function(){___jdce_logger("/js/lib/serenade.js", 130);var e,t,n,r,i,s,o;t=2<=arguments.length?$.call(arguments,0,r=arguments.length-1):(r=0,[]),n=arguments[r++],typeof n=="string"&&(t.push(n),n={}),o=[];for(i=0,s=t.length;i<s;i++)e=t[i],o.push(O(this.prototype,e,n));return o},e.event=function(e,t){___jdce_logger("/js/lib/serenade.js", 131);return L(this.prototype,e,t)},e.delegate=function(){___jdce_logger("/js/lib/serenade.js", 132);},e.collection=function(){___jdce_logger("/js/lib/serenade.js", 133);},e.belongsTo=function(e,t){___jdce_logger("/js/lib/serenade.js", 134);var n;return t==null&&(t={}),n=F(t,{set:function(){___jdce_logger("/js/lib/serenade.js", 135);}}),this.property(e,n),this.property(e+"Id",{get:function(){___jdce_logger("/js/lib/serenade.js", 136);},set:function(){___jdce_logger("/js/lib/serenade.js", 137);},dependsOn:e,serialize:t.serializeId})},e.hasMany=function(e,t){___jdce_logger("/js/lib/serenade.js", 138);var r;return t==null&&(t={}),r=F(t,{get:function(){___jdce_logger("/js/lib/serenade.js", 139);var r,i=this;return r="val_"+e,this._s[r]||(this._s[r]=new n(this,t,[]),this._s[r].change.bind(function(){___jdce_logger("/js/lib/serenade.js", 140);})),this._s[r]},set:function(){___jdce_logger("/js/lib/serenade.js", 141);}}),this.property(e,r),this.property(e+"Ids",{get:function(){___jdce_logger("/js/lib/serenade.js", 142);},set:function(){___jdce_logger("/js/lib/serenade.js", 143);},dependsOn:e,serialize:t.serializeIds}),this.property(e+"Count",{get:function(){___jdce_logger("/js/lib/serenade.js", 144);return this[e].length},dependsOn:e})},e.selection=function(e,t){___jdce_logger("/js/lib/serenade.js", 145);var n;return t==null&&(t={}),n=F(t,{get:function(){___jdce_logger("/js/lib/serenade.js", 146);},dependsOn:""+t.from+":"+t.filter}),this.property(e,n),this.property(e+"Count",{get:function(){___jdce_logger("/js/lib/serenade.js", 147);},dependsOn:e})},e.uniqueId=function(){___jdce_logger("/js/lib/serenade.js", 148);},e.property("id",{serialize:!0,set:function(){___jdce_logger("/js/lib/serenade.js", 149);},get:function(){___jdce_logger("/js/lib/serenade.js", 150);}}),e.event("saved"),e.event("changed",{optimize:function(e){___jdce_logger("/js/lib/serenade.js", 151);var t,n,r,i;n={};for(r=0,i=e.length;r<i;r++)t=e[r],M(n,t[0]);return[n]}}),e.prototype.set=function(e){___jdce_logger("/js/lib/serenade.js", 152);var t,n,r;r=[];for(t in e){if(!V.call(e,t))continue;n=e[t],t in this||O(this,t),r.push(this[t]=n)}return r},e.prototype.save=function(){___jdce_logger("/js/lib/serenade.js", 153);},e.prototype.toJSON=function(){___jdce_logger("/js/lib/serenade.js", 154);},e.prototype.toString=function(){___jdce_logger("/js/lib/serenade.js", 155);},e}(),l=/^[a-zA-Z][a-zA-Z0-9\-_]*/,h=/^[\[\]=\:\-!#\.@]/,w=/^"((?:\\.|[^"])*)"/,d=/^(?:\r?\n[^\r\n\S]*)+/,x=/^[^\r\n\S]+/,r=/^\s*\/\/[^\n]*/,c=["IF","ELSE","COLLECTION","IN","VIEW","UNLESS"],p=function(){___jdce_logger("/js/lib/serenade.js", 156);function e(){___jdce_logger("/js/lib/serenade.js", 157);}return e.prototype.tokenize=function(e,t){___jdce_logger("/js/lib/serenade.js", 158);var n;t==null&&(t={}),this.code=e.replace(/^\s*/,"").replace(/\s*$/,""),this.line=t.line||0,this.indent=0,this.indents=[],this.ends=[],this.tokens=[],this.i=0;while(this.chunk=this.code.slice(this.i))this.i+=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.stringToken()||this.literalToken();while(n=this.ends.pop())n==="OUTDENT"?this.token("OUTDENT"):this.error("missing "+n);while(this.tokens[0][0]==="TERMINATOR")this.tokens.shift();while(this.tokens[this.tokens.length-1][0]==="TERMINATOR")this.tokens.pop();return this.tokens},e.prototype.commentToken=function(){___jdce_logger("/js/lib/serenade.js", 159);var e;return(e=r.exec(this.chunk))?e[0].length:0},e.prototype.whitespaceToken=function(){___jdce_logger("/js/lib/serenade.js", 160);var e;return(e=x.exec(this.chunk))?(this.token("WHITESPACE",e[0].length),e[0].length):0},e.prototype.token=function(e,t){___jdce_logger("/js/lib/serenade.js", 161);return this.tokens.push([e,t,this.line])},e.prototype.identifierToken=function(){___jdce_logger("/js/lib/serenade.js", 162);var e,t;return(e=l.exec(this.chunk))?(t=e[0].toUpperCase(),t==="ELSE"&&this.last(this.tokens,2)[0]==="TERMINATOR"&&this.tokens.splice(this.tokens.length-3,1),K.call(c,t)>=0?this.token(t,e[0]):this.token("IDENTIFIER",e[0]),e[0].length):0},e.prototype.stringToken=function(){___jdce_logger("/js/lib/serenade.js", 163);var e;return(e=w.exec(this.chunk))?(this.token("STRING_LITERAL",e[1]),e[0].length):0},e.prototype.lineToken=function(){___jdce_logger("/js/lib/serenade.js", 164);var e,t,n,r,i;if(!(n=d.exec(this.chunk)))return 0;t=n[0],this.line+=this.count(t,"\n"),r=this.last(this.tokens,1),i=t.length-1-t.lastIndexOf("\n"),e=i-this.indent;if(i===this.indent)this.newlineToken();else if(i>this.indent)this.token("INDENT"),this.indents.push(e),this.ends.push("OUTDENT");else{while(e<0)this.ends.pop(),e+=this.indents.pop(),this.token("OUTDENT");this.token("TERMINATOR","\n")}return this.indent=i,t.length},e.prototype.literalToken=function(){___jdce_logger("/js/lib/serenade.js", 165);var e;return(e=h.exec(this.chunk))?(this.token(e[0]),1):this.error("Unexpected token '"+this.chunk.charAt(0)+"'")},e.prototype.newlineToken=function(){___jdce_logger("/js/lib/serenade.js", 166);if(this.tag()!=="TERMINATOR")return this.token("TERMINATOR","\n")},e.prototype.tag=function(e,t){___jdce_logger("/js/lib/serenade.js", 167);var n;return(n=this.last(this.tokens,e))&&(t?n[0]=t:n[0])},e.prototype.value=function(){___jdce_logger("/js/lib/serenade.js", 168);},e.prototype.error=function(){___jdce_logger("/js/lib/serenade.js", 169);},e.prototype.count=function(e,t){___jdce_logger("/js/lib/serenade.js", 170);var n,r;n=r=0;if(!t.length)return 1/0;while(r=1+e.indexOf(t,r))n++;return n},e.prototype.last=function(e,t){___jdce_logger("/js/lib/serenade.js", 171);return e[e.length-(t||0)-1]},e}(),m=function(){___jdce_logger("/js/lib/serenade.js", 172);function e(e,t){___jdce_logger("/js/lib/serenade.js", 173);this.ast=e,this.element=t,this.children=new s([]),this.boundClasses=new s([])}return L(e.prototype,"load"),L(e.prototype,"unload"),e.prototype.append=function(e){___jdce_logger("/js/lib/serenade.js", 174);return e.appendChild(this.element)},e.prototype.insertAfter=function(){___jdce_logger("/js/lib/serenade.js", 175);},e.prototype.remove=function(){___jdce_logger("/js/lib/serenade.js", 176);},k(e.prototype,"lastElement",{configurable:!0,get:function(){___jdce_logger("/js/lib/serenade.js", 177);}}),e.prototype.nodes=function(){___jdce_logger("/js/lib/serenade.js", 178);},e.prototype.bindEvent=function(e,t){___jdce_logger("/js/lib/serenade.js", 179);if(e)return this.boundEvents||(this.boundEvents=[]),this.boundEvents.push({event:e,fun:t}),e.bind(t)},e.prototype.unbindEvents=function(){___jdce_logger("/js/lib/serenade.js", 180);},e.prototype.updateClass=function(){___jdce_logger("/js/lib/serenade.js", 181);},e}(),a=function(e){___jdce_logger("/js/lib/serenade.js", 182);function t(e){___jdce_logger("/js/lib/serenade.js", 183);this.ast=e,this.anchor=E.document.createTextNode(""),this.nodeSets=new s([])}return J(t,e),t.prototype.nodes=function(){___jdce_logger("/js/lib/serenade.js", 184);var e,t,n,r,i,s,o,u;t=[],u=this.nodeSets;for(r=0,s=u.length;r<s;r++){n=u[r];for(i=0,o=n.length;i<o;i++)e=n[i],t.push(e)}return t},t.prototype.rebuild=function(){___jdce_logger("/js/lib/serenade.js", 185);var e,t,n,r,i,s;if(this.anchor.parentNode){e=this.anchor,i=this.nodes(),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],t.insertAfter(e),s.push(e=t.lastElement);return s}},t.prototype.replace=function(){___jdce_logger("/js/lib/serenade.js", 186);},t.prototype.appendNodeSet=function(){___jdce_logger("/js/lib/serenade.js", 187);},t.prototype.deleteNodeSet=function(){___jdce_logger("/js/lib/serenade.js", 188);},t.prototype.insertNodeSet=function(){___jdce_logger("/js/lib/serenade.js", 189);},t.prototype.clear=function(){___jdce_logger("/js/lib/serenade.js", 190);var e,t,n,r;r=this.nodes();for(t=0,n=r.length;t<n;t++)e=r[t],e.remove();return this.nodeSets.update([])},t.prototype.remove=function(){___jdce_logger("/js/lib/serenade.js", 191);},t.prototype.append=function(e){___jdce_logger("/js/lib/serenade.js", 192);return e.appendChild(this.anchor),this.rebuild()},t.prototype.insertAfter=function(){___jdce_logger("/js/lib/serenade.js", 193);},k(t.prototype,"lastElement",{configurable:!0,get:function(){___jdce_logger("/js/lib/serenade.js", 194);}}),t}(m),D=function(e,t){___jdce_logger("/js/lib/serenade.js", 195);return e.bound&&e.value?_(t,e.value):e.value!=null?e.value:t},g={style:function(){___jdce_logger("/js/lib/serenade.js", 196);},event:function(e,t,n,r){___jdce_logger("/js/lib/serenade.js", 197);return t.element.addEventListener(e.name,function(){___jdce_logger("/js/lib/serenade.js", 198);})},"class":function(){___jdce_logger("/js/lib/serenade.js", 199);},binding:function(e,t,n,r){___jdce_logger("/js/lib/serenade.js", 200);var i,s,o,u,a;return s=t.element,(a=t.ast.name)==="input"||a==="textarea"||a==="select"||function(){___jdce_logger("/js/lib/serenade.js", 201);}(),e.value||function(){___jdce_logger("/js/lib/serenade.js", 202);}(),i=function(){___jdce_logger("/js/lib/serenade.js", 203);},u=function(){___jdce_logger("/js/lib/serenade.js", 204);var t;t=n[e.value];if(s.type==="checkbox")return s.checked=!!t;if(s.type!=="radio")return t===void 0&&(t=""),T(s,"value",t);if(t===s.getAttribute("value"))return s.checked=!0},u(),t.bindEvent(n[""+e.value+"_property"],u),e.name==="binding"?(o=function(){___jdce_logger("/js/lib/serenade.js", 205);},E.document.addEventListener("submit",o,!0),t.unload.bind(function(){___jdce_logger("/js/lib/serenade.js", 206);})):s.addEventListener(e.name,i)},attribute:function(e,t,n,r){___jdce_logger("/js/lib/serenade.js", 207);var i,s;return e.name==="binding"?g.binding(e,t,n,r):(i=t.element,s=function(){___jdce_logger("/js/lib/serenade.js", 208);var r;r=D(e,n);if(e.name==="value")return T(i,"value",r||"");if(t.ast.name==="input"&&e.name==="checked")return T(i,"checked",!!r);if(e.name==="class")return t.attributeClasses=r,t.updateClass();if(r===void 0){if(i.hasAttribute(e.name))return i.removeAttribute(e.name)}else{r===0&&(r="0");if(i.getAttribute(e.name)!==r)return i.setAttribute(e.name,r)}},e.bound&&t.bindEvent(n[""+e.value+"_property"],s),s())},on:function(){___jdce_logger("/js/lib/serenade.js", 209);}},o={element:function(e,t,n){___jdce_logger("/js/lib/serenade.js", 210);var r,i,s,o,u,a,f,l,c,h,p,d;s=E.document.createElement(e.name),o=new m(e,s),e.id&&s.setAttribute("id",e.id),((h=e.classes)!=null?h.length:void 0)&&s.setAttribute("class",e.classes.join(" ")),o.children=C(e.children,t,n),p=o.children;for(a=0,l=p.length;a<l;a++)i=p[a],i.append(s);d=e.properties;for(f=0,c=d.length;f<c;f++){u=d[f],r=g[u.scope];if(!r)throw SyntaxError(""+u.scope+" is not a valid scope");r(u,o,t,n)}return o.load.trigger(),o},view:function(){___jdce_logger("/js/lib/serenade.js", 211);},helper:function(){___jdce_logger("/js/lib/serenade.js", 212);},text:function(e,t,n){___jdce_logger("/js/lib/serenade.js", 213);var r,i,s;return r=function(){___jdce_logger("/js/lib/serenade.js", 214);var n;return n=D(e,t),n===0&&(n="0"),n||""},s=E.document.createTextNode(r()),i=new m(e,s),e.bound&&i.bindEvent(t[""+e.value+"_property"],function(){___jdce_logger("/js/lib/serenade.js", 215);}),i},collection:function(){___jdce_logger("/js/lib/serenade.js", 216);},"in":function(){___jdce_logger("/js/lib/serenade.js", 217);},"if":function(e,t,n){___jdce_logger("/js/lib/serenade.js", 218);return this.bound(e,t,n,function(r,i){___jdce_logger("/js/lib/serenade.js", 219);return i?r.replace([C(e.children,t,n)]):e["else"]?r.replace([C(e["else"].children,t,n)]):r.clear()})},unless:function(){___jdce_logger("/js/lib/serenade.js", 220);},bound:function(e,t,n,r){___jdce_logger("/js/lib/serenade.js", 221);var i,s,o;return i=new a(e),s={},o=function(){___jdce_logger("/js/lib/serenade.js", 222);var n;return n=t[e.argument],n!==s&&r(i,n),s=n},o(),i.bindEvent(t[""+e.argument+"_property"],o),i}},I=function(){___jdce_logger("/js/lib/serenade.js", 223);},C=function(e,t,n){___jdce_logger("/js/lib/serenade.js", 224);var r,i,s,u;u=[];for(i=0,s=e.length;i<s;i++)r=e[i],u.push(o[r.type](r,t,n));return u},t.lexer={lex:function(){___jdce_logger("/js/lib/serenade.js", 225);var e,t;return t=this.tokens[this.pos++]||[""],e=t[0],this.yytext=t[1],this.yylineno=t[2],e},setInput:function(e){___jdce_logger("/js/lib/serenade.js", 226);return this.tokens=e,this.pos=0},upcomingInput:function(){___jdce_logger("/js/lib/serenade.js", 227);}},u=function(){___jdce_logger("/js/lib/serenade.js", 228);function e(e){___jdce_logger("/js/lib/serenade.js", 229);this.nodes=e}return e.prototype.remove=function(){___jdce_logger("/js/lib/serenade.js", 230);},k(e.prototype,"fragment",{enumerable:!0,get:function(){___jdce_logger("/js/lib/serenade.js", 231);var e,t,n,r,i;e=E.document.createDocumentFragment(),i=this.nodes;for(n=0,r=i.length;n<r;n++)t=i[n],t.append(e);return e}}),e}(),S=function(){___jdce_logger("/js/lib/serenade.js", 232);function e(e,t){___jdce_logger("/js/lib/serenade.js", 233);this.name=e,this.view=t}return e.prototype.parse=function(){___jdce_logger("/js/lib/serenade.js", 234);if(typeof this.view!="string")return this.view;try{return this.view=t.parse((new p).tokenize(this.view))}catch(e){throw this.name&&(e.message="In view '"+this.name+"': "+e.message),e}},e.prototype.render=function(){___jdce_logger("/js/lib/serenade.js", 235);var e;return e=1<=arguments.length?$.call(arguments,0):[],this.compile.apply(this,e).fragment},e.prototype.nodes=function(e,t,n,r){___jdce_logger("/js/lib/serenade.js", 236);var i;return this.name&&(t||(t=E.controllerFor(this.name,e))),t||(t={}),typeof t=="function"&&(t=new t(e,n)),i=C(this.parse(),e,t),r||typeof t.loaded=="function"&&t.loaded.apply(t,$.call(i.map(function(){___jdce_logger("/js/lib/serenade.js", 237);})).concat([e])),i},e.prototype.compile=function(){___jdce_logger("/js/lib/serenade.js", 238);var e;return e=1<=arguments.length?$.call(arguments,0):[],new u(this.nodes.apply(this,e))},e}(),E=function(){___jdce_logger("/js/lib/serenade.js", 239);},M(E,{VERSION:"0.4.1",_views:{},_controllers:{},document:typeof window!="undefined"&&window!==null?window.document:void 0,format:_,defineProperty:O,defineEvent:L,asyncEvents:!1,view:function(e,t){___jdce_logger("/js/lib/serenade.js", 240);return t?this._views[e]=new S(e,t):new S(void 0,e)},render:function(e,t,n,r,i){___jdce_logger("/js/lib/serenade.js", 241);return this._views[e].render(t,n,r,i)},controller:function(e,t){___jdce_logger("/js/lib/serenade.js", 242);return this._controllers[e]=t},controllerFor:function(e){___jdce_logger("/js/lib/serenade.js", 243);return this._controllers[e]},clearIdentityMap:function(){___jdce_logger("/js/lib/serenade.js", 244);},clearCache:function(){___jdce_logger("/js/lib/serenade.js", 245);},unregisterAll:function(){___jdce_logger("/js/lib/serenade.js", 246);},Model:v,Collection:s,Cache:i,View:S,Helpers:{}}),k(E,"async",{get:function(){___jdce_logger("/js/lib/serenade.js", 247);},set:function(){___jdce_logger("/js/lib/serenade.js", 248);}}),e.Serenade=E})(this)
