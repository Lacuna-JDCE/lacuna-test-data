(function(define) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 0);
  if (typeof define == "undefined") {
    define = function(deps, fn) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 1);
      can.Model.LocalStorage = fn(can.Model);
    }
  }

  define(['can/model'], function(Model) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 2);
    return Model.extend({
      // Implement local storage handling
      localStore: function(cb) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 3);
        var name = this.name,
          data = JSON.parse(window.localStorage[name] || (window.localStorage[name] = '[]')),
          res = cb.call(this, data);
        if (res !== false) {
          can.each(data, function(){___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 4);});
          window.localStorage[name] = JSON.stringify(data);
        }
      },

      findAll: function(params) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 5);
        var def = new can.Deferred();
        this.localStore(function(todos) {___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 6);
          var instances = [],
            self = this;
          can.each(todos, function(){___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 7);});
          def.resolve({data: instances});
        });
        return def;
      },

      destroy: function(){___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 8);},

      create: function(){___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 9);},

      update: function(){___jdce_logger("/node_modules/canjs-localstorage/can.localstorage.js", 10);}
    }, {});
  });
})(window.define);
